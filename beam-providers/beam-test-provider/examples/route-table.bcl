provider test
    artifact: 'beam:beam-test-provider:0.5'
    repositories: [
        'http://repo1.maven.org/maven2/',
        'https://repo.gradle.org/gradle/libs-releases/',
        'https://artifactory.psdops.com/public'
    ]
end

test::credentials default
    profile-name: "psd-beam-sandbox"
    region: "us-east-2"
end

test::network network-example
    cidr-block: "10.0.0.0/16"
end

test::subnet subnet-public-us-east-2a
    network-id: $(test::network network-example | network-id)
    cidr-block: "10.0.0.0/26"
    availability-zone: "us-east-2a"
end

test::subnet subnet-public-us-east-2b
    network-id: $(test::network network-example | network-id)
    cidr-block: "10.0.1.0/26"
    availability-zone: "us-east-2b"
end

test::subnet subnet-public-us-east-2c
    network-id: $(test::network network-example | network-id)
    cidr-block: "10.0.2.0/26"
    availability-zone: "us-east-2c"
end

test::route-table route-table-example
    network-id: $(test::network network-example | network-id)
    subnet-ids: [
        $(test::subnet subnet-public-us-east-2a | subnet-id),
        $(test::subnet subnet-public-us-east-2b | subnet-id),
        $(test::subnet subnet-public-us-east-2c | subnet-id)
    ]
end

